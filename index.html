<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Section-Button Audio Demo</title>
  <style>
    html, body { margin:0; padding:0; }
    section {
      height:100vh;
      display:flex; flex-direction:column;
      justify-content:center; align-items:center;
      font-size:2rem; position:relative;
    }
    button.play {
      margin-top:1em; padding:0.5em 1em; font-size:1rem;
    }
    section[data-id="rain"]  { background:#e0f7fa; }
    section[data-id="piano"] { background:#ffe0b2; }
    section[data-id="kids"]  { background:#c8e6c9; }
  </style>
</head>
<body>
  <!-- Howler.js CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>

  <section data-id="rain">
    Rain Sound
    <button class="play" data-id="rain">Play Rain</button>
  </section>
  <section data-id="piano">
    Piano Sound
    <button class="play" data-id="piano">Play Piano</button>
  </section>
  <section data-id="kids">
    Kids Playing
    <button class="play" data-id="kids">Play Kids</button>
  </section>

  <script>
    // Howler.js でトラックを事前定義
    const tracks = {
      rain:  new Howl({ src:['rain.mp3'], loop:true, volume:0.7, html5:true }),
      piano: new Howl({ src:['piano.mp3'], loop:true, volume:0.7, html5:true }),
      kids:  new Howl({ src:['kids_playing.mp3'], loop:true, volume:0.7, html5:true })
    };

    // 各ボタンにクリックハンドラをアタッチ
    document.querySelectorAll('button.play').forEach(btn => {
      btn.addEventListener('click', () => {
        const id = btn.dataset.id;
        const h  = tracks[id];

        if (!h.playing()) {
          h.play();            // 再生
          btn.textContent = 'Stop';
        } else {
          h.stop();            // 停止
          btn.textContent = 'Play ' + id.charAt(0).toUpperCase() + id.slice(1);
        }
      });
    });
  </script>
</body>
</html>
